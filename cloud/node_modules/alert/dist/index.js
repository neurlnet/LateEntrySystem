"use client";var H=Object.create;var f=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var Z=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty;var F=(t,e)=>{for(var s in e)f(t,s,{get:e[s],enumerable:!0})},v=(t,e,s,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of O(e))!D.call(t,c)&&c!==s&&f(t,c,{get:()=>e[c],enumerable:!(r=M(e,c))||r.enumerable});return t};var b=(t,e,s)=>(s=t!=null?H(Z(t)):{},v(e||!t||!t.__esModule?f(s,"default",{value:t,enumerable:!0}):s,t)),Y=t=>v(f({},"__esModule",{value:!0}),t);var K={};F(K,{Toaster:()=>A,toast:()=>P});module.exports=Y(K);var i=b(require("react"));var T=class{constructor(){this.toasts=[],this.subscribers=[]}subscribe(e){return this.subscribers=[...this.subscribers,e],()=>{this.subscribers.splice(this.subscribers.indexOf(e),1)}}publish(e){this.subscribers.forEach(s=>s(e))}add(e,s){let r={id:this.toasts.length,state:"enter",type:s,title:e};return this.toasts=[...this.toasts,r],this.publish(r),r}update(e){let s=this.toasts.findIndex(r=>r.id===e.id);this.toasts[s]=e,this.publish(e)}},n=new T;var z=b(require("react"));function x(t,{insertAt:e}={}){if(!t||typeof document=="undefined")return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}x(`.toast-enter{animation:enterAnimation .35s cubic-bezier(.21,1.02,.73,1) forwards}.toast-leave{animation:leaveAnimation .4s cubic-bezier(.06,.71,.55,1) forwards}.loading-icon{width:16px;height:16px;margin-right:4px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:#e0e0e0;border-right-color:#111827;animation:rotateAnimation 1s linear infinite}@keyframes enterAnimation{0%{transform:translate3d(0,200%,0) scale(.6);opacity:.5}to{transform:translateZ(0) scale(1);opacity:1}}@keyframes leaveAnimation{0%{transform:translateZ(-1px) scale(1);opacity:1}to{transform:translate3d(0,150%,-1px) scale(.6);opacity:0}}@keyframes rotateAnimation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var m=b(require("react"));var I=m.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20","data-testid":"success-icon"},m.default.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),w=m.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20","data-testid":"error-icon"},m.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),S=m.default.createElement("div",{className:"loading-icon","data-testid":"loading-icon"});var C=({toast:t})=>{let e=t.theme==="light"?"rgb(243, 244, 246)":"rgb(17, 24, 39)",s=t.theme==="light"?"rgb(17, 24, 39)":"rgb(243, 244, 246)";return z.default.createElement("div",{className:`toast-${t.state}`,style:{paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"1rem",paddingRight:"1rem",borderRadius:"0.375rem",backgroundColor:e,fontWeight:500,fontSize:"0.875rem",lineHeight:"1.25rem",color:s,zIndex:t.zIndex,display:"flex",gap:4,minWidth:220,position:"relative",alignItems:"center"},key:t.id},t.type==="success"&&I,t.type==="error"&&w,t.type==="loading"&&S,t.title)};var A=({position:t="bottom-right",duration:e=3e3,reverse:s=!1,theme:r="light",style:c,className:Q})=>{let[u,h]=(0,i.useState)([]),[k,E]=(0,i.useState)({}),[B,N]=(0,i.useState)(0);(0,i.useEffect)(()=>{let o=n.subscribe(a=>{h(d=>{var l=d.findIndex(g=>g.id===a.id);if(l===-1)return[...d,a];var p=[...d];return p[l]=a,p}),j(a)});return()=>{o()}},[]),(0,i.useEffect)(()=>{let[o,a]=t.split("-");E({[o]:0,[a]:0})},[t]),(0,i.useEffect)(()=>{N(u.length*41)},[u]);function j(o){setTimeout(()=>y(o,"idle"),300),o.type!=="loading"&&(setTimeout(()=>y(o,"leave"),e-100),setTimeout(()=>L(o),e))}function y(o,a){h(d=>{var l=d.slice(),p=l.findIndex(g=>g.id===o.id);return l[p]={...l[p],state:a},l})}let L=(0,i.useCallback)(o=>h(a=>a.filter(d=>d.id!==o.id)),[]),W=s?u.slice().reverse():u;return i.default.createElement("section",{style:{position:"fixed",zIndex:9999,display:"flex",flexDirection:"column",gap:5,margin:16,transform:"translateY(0)",height:B,transition:"all 230ms cubic-bezier(.21, 1.02, .73, 1)",...k}},t.startsWith("bottom")&&!s&&i.default.createElement("div",{className:"flex h-full w-full grow"}),W.map((o,a)=>i.default.createElement(C,{key:a,toast:{...o,zIndex:a,theme:r}})))};var $=(t,e)=>{var s=n.add(e.loading,"loading");return s.state="idle",t().then(r=>(s.type="success",s.title=e.success,n.update(s),r),r=>(s.type="error",s.title=e.error,n.update(s),Promise.reject(r)))},q=t=>{n.add(t,"success")},G=t=>{n.add(t,"error")},J=t=>{n.add(t,"default")},P=Object.assign(J,{success:q,error:G,promise:$});0&&(module.exports={Toaster,toast});
//# sourceMappingURL=index.js.map